<html>
	<head>
		<title>Learn HTML</title>
		<!-- Styling for jQuery UI -->
		<link rel="stylesheet" href="css/jquery-ui.css" type="text/css" media="all">
		<!-- Styling -->
		<link rel="stylesheet" href="css/style.css">
		
		<!-- Javascript -->
		<script src="js/session.js"></script>
		<script src="js/editor.js"></script>
		<script src="js/lessons.js"></script>
		<script src="js/html.js"></script>
		<!-- jQuery! -->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery-ui.min.js"></script>
		
		<!-- JS for the editor -->
		<script type="text/javascript" src="js/codemirror.js"></script>
		<script type="text/javascript" src="js/javascript/javascript.js"></script>
		<script type="text/javascript" src="js/htmlmixed/htmlmixed.js"></script>
		<script type="text/javascript" src="js/css/css.js"></script>
		<script type="text/javascript" src="js/xml/xml.js"></script>
		
		<!-- Initialization -->
		<script>
		// This is the count of the lessons listed
		var count     = 0;
		var successes = [];
		
		var makeUnit = function(unit) {
			var unitDiv = $('<div>').addClass('unit-container');
			// Make tht title
			var unitTitle = $('<div>').text(unit.title);
			unitTitle.addClass('unit-title').addClass('light-background')
			unitDiv.append(unitTitle);
			// Make a container for the lessons
			var lessons = $('<div>').addClass('unit-lessons-container');
			for (var j in unit.lessons) {
				var lesson = unit.lessons[j];
				var lessonDiv = $('<div>').addClass('full-width row');
				var title = $('<a>').text(lesson.title).attr('href', 'index.html#lesson' + count);
				lessonDiv.append($('<div>').addClass('unit-lesson-title').append(title));
				var d = $('<div>').addClass('unit-lesson-status');
				if (successes[lesson.id] != null) {
					d.addClass('unit-lesson-complete');
				} else {
					d.addClass('unit-lesson-incomplete');
				}
				lessonDiv.append(d);
				lessons.append(lessonDiv);
				count += 1;
			}
			unitDiv.append(lessons);
			return unitDiv;
		}
		
		$(document).ready(function() {
			successes = Session.get('successes');
			for (var i in units) {
				if (i < Math.floor(units.length / 2)) {
					$('#column-one').append(makeUnit(units[i]));
				} else {
					$('#column-two').append(makeUnit(units[i]));
				}

			}
		});
		</script>
	</head>
	<body>
		<div id='header' class='full-width row'>
			<div id='logo' class='left'>
				HTMLessons
				<!--<img src='img/htmlessons.png' height='100px'/>-->
			</div>
			<div id='header_buttons' class='right large-half'>
				<div class='right'>
					<div class='button left'><a href='units.html'>Units</a></div>
					<div class='button left'><a href='progress.html'>Progress</a></div>
					<div class='button left'><a href='badges.html'>Badges</a></div>
				</div>
			</div>
		</div>
		
		<div id='container'>
			<div id='column-one' class='left half'></div>
			<div id='column-two' class='right half'></div>
		</div>
	</body>
</html>